spring:
  datasource:
    url: jdbc:mysql://localhost:3308/studyroom?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: 123456
    driver-class-name: com.mysql.cj.jdbc.Driver

  data:
    redis:
      host: localhost
      port: 6379
      password: 123456
      database: 0
      lettuce:
        pool:
          max-active: 8
          max-wait: -1ms
          max-idle: 8
          min-idle: 0
        shutdown-timeout: 100ms
      timeout: 3000ms
      connect-timeout: 3000ms
  security:
    user:
      name: admin
      password: admin123

mybatis-plus:
  mapper-locations: classpath:mapper/**/*.xml
  type-aliases-package: com.studyroom.entity
  configuration:
    map-underscore-to-camel-case: true   # 自动下划线转驼峰
#    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl # 可选：输出 SQL 日志
  global-config:
    db-config:
      id-type: auto
      field-strategy: not_empty
      table-underline: true


server:
  port: 8080
  servlet:
    context-path: /api

jwt:
  secret: studyroomSecretKeystudyroomSecretKeystudyroomSecretKey
  expire: 3600000
  refresh-expire: 7200000

logging:
  level:
    com.studyroom: debug
  file:
    name: logs/studyroom.log
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
  logback:
    rollingpolicy:
      max-file-size: 10MB
      max-history: 7
      total-size-cap: 100MB
      file-name-pattern: logs/studyroom.%d{yyyy-MM-dd}.%i.log.gz

# Knife4j 配置
knife4j:
  enable: true
  setting:
    language: zh_cn
    enable-swagger-models: true
    swagger-model-name: 实体类列表
    enable-document-manage: true
    enable-version: false
    enable-author: true
  cors: false
  production: false
  basic:
    enable: false
  # 兼容 Springdoc 配置
  openapi:
    title: 高校自习室预约平台API
    description: 高校自习室预约平台后端API接口文档
    version: 1.0.0
    license: MIT License
    license-url: https://opensource.org/licenses/MIT
    contact:
      name: 开发团队
      email: dev@example.com
      url: https://example.com