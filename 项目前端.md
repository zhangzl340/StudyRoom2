# 高校自习室预约平台前端项目描述

## 1. 项目概述

这是一个为高校设计的自习室预约平台前端系统，主要功能包括用户管理、自习室管理、座位管理、预约管理、签到签退、数据统计分析等。系统采用分层架构，支持多角色权限控制，为高校师生提供便捷的自习室预约服务。本系统采用前后端分离架构，该文件是前段项目的描述。

## 2. 技术栈

| 类别       | 技术/库             | 版本   | 用途           |
| ---------- | ------------------- | ------ | -------------- |
| 核心框架   | Vue                 | 3.3.4  | 前端框架       |
| 状态管理   | Pinia               | 2.1.6  | 状态管理库     |
| 路由       | Vue Router          | 4.2.4  | 页面路由       |
| UI组件库   | Element Plus        | 2.3.3  | UI组件         |
| 网络请求   | Axios               | 1.4.0  | HTTP请求       |
| 图表库     | ECharts             | 5.6.0  | 数据可视化     |
| 日期处理   | Dayjs               | 1.11.9 | 日期时间处理   |
| WebSocket  | Socket.io-client    | 4.6.1  | 实时数据通信   |
| 二维码     | qrcode.vue          | 3.4.1  | 生成二维码     |
| 二维码识别 | vue-qrcode-reader   | 5.7.3  | 扫描二维码     |
| 拖拽功能   | vue3-draggable-next | 4.1.4  | 拖拽排序       |
| Excel处理  | xlsx                | 0.18.5 | Excel导入导出  |
| 国际化     | vue-i18n            | 9.4.0  | 多语言支持     |
| 构建工具   | Vite                | 4.3.9  | 项目构建与开发 |
| 语言       | TypeScript          | 5.1.6  | 类型检查       |
| 样式       | Sass                | 1.63.6 | CSS预处理器    |

## 3. 项目结构

项目采用模块化、分层架构设计，目录结构清晰合理：

```
src/
├── api/             # API接口调用
├── assets/          # 静态资源
├── components/      # 组件（按角色和功能分类）
├── composables/     # 组合式API
├── layouts/         # 布局组件
├── router/          # 路由配置
├── stores/          # 状态管理
├── types/           # 类型定义
├── utils/           # 工具函数
├── views/           # 页面组件
├── App.vue          # 根组件
├── main.ts          # 入口文件
```

### 3.1 核心目录说明

- **api/**: 包含所有API接口调用，按功能模块分类
- **components/**: 组件库，分为admin（管理员）、common（通用）、student（学生）三大类
- **composables/**: 组合式API，封装复用逻辑
- **layouts/**: 布局组件，包含管理员布局、认证布局和默认布局
- **router/**: 路由配置，分为学生路由和管理员路由
- **stores/**: Pinia状态管理，按功能模块分类
- **types/**: TypeScript类型定义，包含用户、房间、预约等核心类型
- **utils/**: 工具函数，包含认证、日期处理、请求等通用功能
- **views/**: 页面组件，按角色分类

### 3.2 样式说明

现代简约的科技蓝教育系统界面，Element Plus深度定制风格，主色调为科技蓝 (#409EFF)，搭配绿黄红灰辅助色，强调圆角、轻阴影与平滑过渡，适合高校后台管理系统。组件悬停有轻微上浮与同色系阴影，表格采用斑马纹与浅灰表头，整体清晰、专业、交互友好。

## 4. 功能模块

### 4.1 学生端功能

| 功能       | 描述                             | 页面路径                              |
| ---------- | -------------------------------- | ------------------------------------- |
| 登录/注册  | 用户认证，支持学生账号登录和注册 | `/student/login`, `/student/register` |
| 首页       | 自习室列表，显示实时座位状态     | `/student`, `/`                       |
| 自习室详情 | 查看自习室详情和座位布局         | `/student/room/:id`                   |
| 预约管理   | 查看和管理个人预约记录           | `/student/my-reservations`            |
| 签到/签退  | 支持二维码签到和签退             | `/student/check-in`                   |
| 个人中心   | 查看和修改个人信息               | `/student/profile`                    |

### 4.2 管理员端功能

| 功能       | 描述                       | 页面路径               |
| ---------- | -------------------------- | ---------------------- |
| 管理员登录 | 管理员账号登录             | `/admin/login`         |
| 仪表板     | 系统概览和关键指标         | `/admin/dashboard`     |
| 自习室管理 | 管理自习室信息和座位布局   | `/admin/rooms`         |
| 用户管理   | 管理用户信息，支持批量导入 | `/admin/users`         |
| 数据统计   | 系统使用数据统计和分析     | `/admin/statistics`    |
| 系统设置   | 系统配置和规则设置         | `/admin/settings`      |
| 公告管理   | 发布和管理系统公告         | `/admin/announcements` |

## 5. API接口设计

### 5.1 认证相关接口

| 方法 | 路径                           | 功能             | 权限     |
| ---- | ------------------------------ | ---------------- | -------- |
| POST | `/auth/login`                  | 用户登录         | 公开     |
| POST | `/auth/register`               | 用户注册         | 公开     |
| POST | `/auth/logout`                 | 用户注销         | 需要认证 |
| GET  | `/auth/me`                     | 获取当前用户信息 | 需要认证 |
| POST | `/auth/refresh`                | 刷新令牌         | 需要认证 |
| GET  | `/auth/captcha`                | 获取验证码       | 公开     |
| POST | `/auth/reset-password/request` | 重置密码请求     | 公开     |
| POST | `/auth/reset-password`         | 重置密码         | 公开     |
| POST | `/auth/change-password`        | 修改密码         | 需要认证 |
| POST | `/auth/verify-identity`        | 实名认证         | 需要认证 |

### 5.2 自习室相关接口

| 方法   | 路径                        | 功能               | 权限           |
| ------ | --------------------------- | ------------------ | -------------- |
| GET    | `/room/list`                | 获取自习室列表     | 公开           |
| GET    | `/room/detail/:id`          | 获取自习室详情     | 公开           |
| GET    | `/room/:id/seats`           | 获取自习室座位列表 | 公开           |
| GET    | `/room/:id/available-seats` | 获取自习室可用座位 | 公开           |
| GET    | `/room/status/:id`          | 获取自习室实时状态 | 公开           |
| GET    | `/room/available`           | 获取可用的自习室   | 公开           |
| POST   | `/admin/room/create`        | 创建自习室         | 需要管理员权限 |
| PUT    | `/admin/room/update/:id`    | 更新自习室         | 需要管理员权限 |
| DELETE | `/admin/room/delete/:id`    | 删除自习室         | 需要管理员权限 |
| PUT    | `/admin/room/status/:id`    | 更新自习室状态     | 需要管理员权限 |
| GET    | `/admin/seat/layout/:id`    | 获取自习室布局     | 需要管理员权限 |
| PUT    | `/admin/seat/layout`        | 更新自习室布局     | 需要管理员权限 |
| POST   | `/admin/seat/import`        | 批量导入座位       | 需要管理员权限 |

### 5.3 预约相关接口

| 方法 | 路径                                | 功能               | 权限     |
| ---- | ----------------------------------- | ------------------ | -------- |
| GET  | `/student/reservation/list`         | 获取预约列表       | 需要认证 |
| GET  | `/student/reservation/detail/:id`   | 获取预约详情       | 需要认证 |
| POST | `/student/reservation/create`       | 创建预约           | 需要认证 |
| PUT  | `/student/reservation/update/:id`   | 修改预约           | 需要认证 |
| POST | `/student/reservation/cancel`       | 取消预约           | 需要认证 |
| POST | `/student/reservation/check`        | 确认预约           | 需要认证 |
| POST | `/student/reservation/fee`          | 计算预约费用       | 需要认证 |
| GET  | `/student/reservation/upcoming`     | 获取即将开始的预约 | 需要认证 |
| GET  | `/student/reservation/availability` | 检查预约冲突       | 需要认证 |
| GET  | `/student/reservation/statistics`   | 获取今日预约统计   | 需要认证 |

### 5.4 签到相关接口

| 方法 | 路径                             | 功能             | 权限     |
| ---- | -------------------------------- | ---------------- | -------- |
| POST | `/student/checkin/in`            | 签到             | 需要认证 |
| POST | `/student/checkin/out`           | 签退             | 需要认证 |
| POST | `/student/checkin/leave`         | 暂离             | 需要认证 |
| POST | `/student/checkin/return`        | 暂离返回         | 需要认证 |
| GET  | `/student/checkin/detail/:id`    | 获取签到记录详情 | 需要认证 |
| GET  | `/student/checkin/list`          | 获取用户签到记录 | 需要认证 |
| GET  | `/student/checkin/current`       | 获取当前签到信息 | 需要认证 |
| GET  | `/student/checkin/qrcode`        | 生成签到二维码   | 需要认证 |
| POST | `/student/checkin/verify-qrcode` | 验证签到二维码   | 需要认证 |

### 5.5 管理员相关接口

| 方法   | 路径                                | 功能             | 权限           |
| ------ | ----------------------------------- | ---------------- | -------------- |
| GET    | `/admin/users`                      | 获取用户列表     | 需要管理员权限 |
| GET    | `/admin/users/:id`                  | 获取用户详情     | 需要管理员权限 |
| POST   | `/admin/users`                      | 创建用户         | 需要管理员权限 |
| PUT    | `/admin/users/:id`                  | 更新用户         | 需要管理员权限 |
| DELETE | `/admin/users/:id`                  | 删除用户         | 需要管理员权限 |
| PATCH  | `/admin/users/:id/status`           | 启用/禁用用户    | 需要管理员权限 |
| POST   | `/admin/users/:id/reset-password`   | 重置用户密码     | 需要管理员权限 |
| POST   | `/admin/users/:id/adjust-credit`    | 调整用户信用分   | 需要管理员权限 |
| GET    | `/admin/announcements`              | 获取公告列表     | 需要管理员权限 |
| POST   | `/admin/announcements`              | 创建公告         | 需要管理员权限 |
| PUT    | `/admin/announcements/:id`          | 更新公告         | 需要管理员权限 |
| DELETE | `/admin/announcements/:id`          | 删除公告         | 需要管理员权限 |
| GET    | `/admin/settings`                   | 获取系统设置     | 需要管理员权限 |
| PUT    | `/admin/settings`                   | 更新系统设置     | 需要管理员权限 |
| GET    | `/admin/settings/reservation-rules` | 获取预约规则设置 | 需要管理员权限 |
| PUT    | `/admin/settings/reservation-rules` | 更新预约规则设置 | 需要管理员权限 |
| POST   | `/admin/cleanup`                    | 清理过期数据     | 需要管理员权限 |
| POST   | `/admin/backup`                     | 备份系统数据     | 需要管理员权限 |
| GET    | `/admin/logs`                       | 查看系统日志     | 需要管理员权限 |

### 5.6 统计相关接口

| 方法 | 路径                                  | 功能                 | 权限           |
| ---- | ------------------------------------- | -------------------- | -------------- |
| GET  | `/admin/statistics/system`            | 获取系统统计信息     | 需要管理员权限 |
| GET  | `/admin/statistics/room/usage`        | 获取自习室使用统计   | 需要管理员权限 |
| GET  | `/admin/statistics/room/rank`         | 获取房间使用率排名   | 需要管理员权限 |
| GET  | `/admin/statistics/room/trend`        | 获取房间每日使用趋势 | 需要管理员权限 |
| GET  | `/admin/statistics/room/distribution` | 获取房间类型分布     | 需要管理员权限 |
| GET  | `/admin/statistics/room/seat`         | 获取房间座位使用情况 | 需要管理员权限 |
| GET  | `/admin/statistics/room/peak`         | 获取房间高峰期分析   | 需要管理员权限 |
| GET  | `/admin/statistics/room/cancellation` | 获取房间预约取消率   | 需要管理员权限 |
| GET  | `/admin/statistics/room/average-time` | 获取房间平均使用时长 | 需要管理员权限 |
| GET  | `/admin/statistics/heatmap`           | 获取座位热度统计     | 需要管理员权限 |
| GET  | `/admin/statistics/user/usage`        | 获取用户活跃度统计   | 需要管理员权限 |
| GET  | `/admin/statistics/user/rank`         | 获取用户活跃度排名   | 需要管理员权限 |
| GET  | `/admin/statistics/user/growth`       | 获取用户增长趋势     | 需要管理员权限 |
| GET  | `/admin/statistics/user/distribution` | 获取用户类型分布     | 需要管理员权限 |
| GET  | `/admin/statistics/user/credit`       | 获取用户信用分分布   | 需要管理员权限 |
| GET  | `/admin/statistics/user/behavior`     | 获取用户预约行为分析 | 需要管理员权限 |
| GET  | `/admin/statistics/user/violation`    | 获取用户违规情况统计 | 需要管理员权限 |
| GET  | `/admin/statistics/user/average-time` | 获取用户平均使用时长 | 需要管理员权限 |
| GET  | `/admin/statistics/user/retention`    | 获取用户留存率分析   | 需要管理员权限 |
| GET  | `/admin/statistics/user/profile`      | 获取用户画像分析     | 需要管理员权限 |
| GET  | `/admin/statistics/time-slot`         | 获取时间段使用统计   | 需要管理员权限 |
| GET  | `/admin/statistics/snapshots`         | 获取每日统计快照     | 需要管理员权限 |
| POST | `/admin/statistics/snapshot/generate` | 生成统计快照         | 需要管理员权限 |
| POST | `/admin/statistics/export`            | 导出统计数据         | 需要管理员权限 |



## 6. 技术特色

1. **现代化技术栈**：使用Vue 3 + TypeScript + Vite，符合前端最佳实践
2. **组件化设计**：高度模块化，组件复用率高
3. **实时数据更新**：WebSocket实现实时座位状态更新
4. **响应式布局**：适配不同设备屏幕
5. **类型安全**：完整的TypeScript类型定义
6. **状态管理**：使用Pinia进行高效状态管理
7. **数据可视化**：ECharts实现丰富的数据图表
8. **国际化支持**：内置i18n国际化方案
9. **安全性**：完善的认证授权机制
10. **可扩展性**：模块化设计，易于功能扩展

## 7. 核心业务逻辑

### 7.1 用户认证与授权

- 基于JWT的认证机制
- 角色权限控制（学生、自习室管理员、学术管理员）
- 路由守卫确保页面访问权限
- 密码加密与安全存储
- 验证码机制防止暴力破解
- 密码重置功能

### 7.2 自习室预约系统

- 实时座位状态查询
- 预约时间冲突检测
- 预约创建、修改、取消
- 预约状态管理（待开始、已签到、已签退、已取消、已过期、违规）
- 预约时段限制和规则

### 7.3 签到签退系统

- 多种签到方式（二维码、人脸识别、手动）
- 签到超时处理
- 暂时离开功能
- 签退时间管理
- 签到记录和统计

### 7.4 违规与信用系统

- 多种违规类型（预约未到、迟到、晚退、早退、超时使用、非法占用）
- 信用评分机制
- 违规记录与处理
- 信用恢复机制

### 7.5 实时数据更新

- WebSocket实时座位状态更新
- 预约状态实时同步
- 系统通知推送
- 实时在线人数统计

### 7.6 数据统计与分析

- 自习室使用率统计
- 预约时段分析
- 用户行为分析
- 违规情况统计
- 数据可视化图表
- 导出统计报告



## 8. 项目亮点

1. **完整的自习室预约生态**：从预约到签到签退的全流程管理
2. **实时座位状态**：用户可实时查看自习室座位情况
3. **智能签到系统**：支持多种签到方式，提高管理效率
4. **信用评分机制**：通过信用评分规范用户行为
5. **详细的违规处理**：完善的违规类型和处理机制
6. **数据驱动决策**：丰富的统计分析功能，为管理决策提供依据
7. **用户友好界面**：现代化UI设计，良好的用户体验
8. **权限精细控制**：基于角色的权限管理，确保系统安全